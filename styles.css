/* ===== Reset-ish ===== */
* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background: #0c0f14;
  color: #e8eef6;
  overflow: hidden; /* keep game full-screen without page scroll */
}

/* ===== HUD ===== */
.hud {
  position: fixed; inset: 0 0 auto 0;
  height: 56px;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 12px;
  background: rgba(10,12,16,.75);
  backdrop-filter: saturate(1.1) blur(6px);
  border-bottom: 1px solid #1d2530;
  z-index: 50;
}
.hud .title { display: flex; gap: 12px; align-items: baseline; }
.hud .title strong { letter-spacing: .5px; }
.hud .title .hint { color: #8a97a8; font-size: 12px; }
.hud .stats { display: flex; gap: 14px; align-items: center; }
.hud .stats .sep { width: 1px; height: 22px; background: #253040; opacity:.7; }
.btn {
  background: #2b6ff0;
  color: white; border: 0; border-radius: 8px;
  padding: 8px 12px; cursor: pointer; font-weight: 600;
}
.btn:hover { filter: brightness(1.05); }

/* ===== Stage layout ===== */
.stage {
  position: fixed; inset: 56px 0 0 0; /* below HUD */
  display: grid;
  grid-template-columns: 1fr 1fr; /* left world | right world */
  grid-template-rows: 1fr;        /* only worlds row */
  grid-template-areas: "aircraft housing";
  gap: 0;
  /* center divider line */
  position: fixed;
}

.stage::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 0;
  border-left: 1px solid #151b24;
  pointer-events: none;
  z-index: 5;
}

/* Worlds */
.world {
  position: relative;
  background: #0f141b;
  border-left: 1px solid #151b24;
  border-right: 1px solid #151b24;
}
.world.housing { grid-area: housing; }
.world.aircraft { grid-area: aircraft; }
.world canvas { width: 100%; height: 100%; display: block; }
.world .label {
  position: absolute; left: 12px; top: 12px;
  color: #99a7bb; font-size: 12px; letter-spacing: .15em;
  background: rgba(0,0,0,.25);
  padding: 4px 8px; border-radius: 6px;
}

/* Office panel */
.office {
  position: absolute; /* overlay above both worlds */
  left: 50%; top: 50%; transform: translate(-50%, -50%);
  display: grid; place-items: center;
  background: transparent; /* let worlds show behind */
  overflow: visible;
  z-index: 20; /* above worlds and divider */
  pointer-events: none; /* allow world interactions outside square */
}
.office-square {
  position: relative;
  width: 320px;
  height: 320px;
  display: grid;
  place-items: center;
  background: #000;
  border: 1px dashed rgba(255,255,255,0.08);
  border-radius: 12px;
  pointer-events: auto; /* re-enable input inside the square */
}
.office-square.front .officer { z-index: 12; }
.office-square.front .office-card { z-index: 11; }
.office-square.behind .officer { z-index: 9; }
.office-square.behind .office-card { z-index: 10; }
.office-card {
  width: 88%;
  background: #121822;
  border: 1px solid #1d2530;
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 12px 32px rgba(0,0,0,.35);
}
.office-title { font-weight: 800; letter-spacing: .04em; margin-bottom: 8px; }
.office-body { color: #a8b5c7; font-size: 14px; line-height: 1.45; }

/* Officer character */
.officer {
  position: absolute;
  left: 150px; /* default start, updated by JS */
  top: 300px;
  width: 22px;
  height: 34px;
  z-index: 10;
  pointer-events: none;
}
.officer-head {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #c8d2e2;
  border: 2px solid #2b6ff0;
  margin: 0 auto;
  box-shadow: 0 0 10px rgba(43, 111, 240, 0.35);
}
.officer-body {
  width: 100%;
  height: 16px;
  background: linear-gradient(180deg, #1c2740, #131b2e);
  border: 2px solid #2b6ff0;
  border-top: none;
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  margin-top: -2px;
}

/* Night summary */
.summary {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.55);
  display: grid; place-items: center;
  z-index: 100;
}
.summary.hidden { display: none; }
.summary .card {
  width: min(480px, 90vw);
  background: #121822; border: 1px solid #1d2530; border-radius: 14px;
  padding: 20px;
  box-shadow: 0 18px 48px rgba(0,0,0,.45);
}
.summary h3 { margin: 0 0 8px; }
#summaryBody { color: #c8d2e2; margin-bottom: 12px; font-size: 14px; line-height: 1.45; }

/* Selection / dragging visual hints (drawn on canvas too) */
